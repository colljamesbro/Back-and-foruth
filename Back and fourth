local flying = false
local speed = 50 -- You can change the flying speed here

-- Reference to the player's character and humanoid
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")

-- Create a BodyVelocity to handle flying
local bodyVelocity = Instance.new("BodyVelocity")
bodyVelocity.MaxForce = Vector3.new(100000, 100000, 100000) -- Strong force to keep you floating
bodyVelocity.Velocity = Vector3.new(0, 0, 0)
bodyVelocity.Parent = rootPart

-- Function to toggle flying
local function toggleFlying()
    flying = not flying

    if flying then
        bodyVelocity.Velocity = Vector3.new(0, speed, 0) -- Set flying speed upwards
    else
        bodyVelocity.Velocity = Vector3.new(0, 0, 0) -- Stop flying
    end
end

-- Detect key press for flying toggle
game:GetService("UserInputService").InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end

    if input.KeyCode == Enum.KeyCode.F then
        toggleFlying()
    end
end)
